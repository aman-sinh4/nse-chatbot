"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/chat/route";
exports.ids = ["app/api/chat/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=D%3A%5CProjects%5CNSE-Chatbot%5CChatbot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CProjects%5CNSE-Chatbot%5CChatbot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=D%3A%5CProjects%5CNSE-Chatbot%5CChatbot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CProjects%5CNSE-Chatbot%5CChatbot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_Projects_NSE_Chatbot_Chatbot_src_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/chat/route.ts */ \"(rsc)/./src/app/api/chat/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/chat/route\",\n        pathname: \"/api/chat\",\n        filename: \"route\",\n        bundlePath: \"app/api/chat/route\"\n    },\n    resolvedPagePath: \"D:\\\\Projects\\\\NSE-Chatbot\\\\Chatbot\\\\src\\\\app\\\\api\\\\chat\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_Projects_NSE_Chatbot_Chatbot_src_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/chat/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjaGF0JTJGcm91dGUmcGFnZT0lMkZhcGklMkZjaGF0JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGY2hhdCUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDUHJvamVjdHMlNUNOU0UtQ2hhdGJvdCU1Q0NoYXRib3QlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUQlM0ElNUNQcm9qZWN0cyU1Q05TRS1DaGF0Ym90JTVDQ2hhdGJvdCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNpQjtBQUM5RjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzZKOztBQUU3SiIsInNvdXJjZXMiOlsid2VicGFjazovL25zZS1jaGF0Ym90Lz83ZTgwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkQ6XFxcXFByb2plY3RzXFxcXE5TRS1DaGF0Ym90XFxcXENoYXRib3RcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcY2hhdFxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvY2hhdC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2NoYXRcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2NoYXQvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJEOlxcXFxQcm9qZWN0c1xcXFxOU0UtQ2hhdGJvdFxcXFxDaGF0Ym90XFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGNoYXRcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvY2hhdC9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=D%3A%5CProjects%5CNSE-Chatbot%5CChatbot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CProjects%5CNSE-Chatbot%5CChatbot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/chat/route.ts":
/*!***********************************!*\
  !*** ./src/app/api/chat/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n// DEBUGGING: Log environment status\nconsole.log(\"--- API INIT (RAW FETCH) ---\");\nconsole.log(\"API Key configured:\", !!process.env.GEMINI_API_KEY);\n// Load Knowledge Base\nlet knowledgeContext = \"\";\ntry {\n    const filePath = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), \"src/data/knowledge.json\");\n    if (fs__WEBPACK_IMPORTED_MODULE_1___default().existsSync(filePath)) {\n        const rawData = fs__WEBPACK_IMPORTED_MODULE_1___default().readFileSync(filePath, \"utf8\");\n        const json = JSON.parse(rawData);\n        knowledgeContext = json.map((item)=>`Source: ${item.url}\\n${item.content}\\n---\\n`).join(\"\\n\");\n        console.log(`Knowledge Base Loaded: ${json.length} documents.`);\n    } else {\n        console.error(\"CRITICAL: knowledge.json NOT FOUND at\", filePath);\n        knowledgeContext = \"Warning: Knowledge base is empty. System could not load data.\";\n    }\n} catch (error) {\n    console.error(\"CRITICAL: Error loading knowledge base:\", error);\n}\nasync function POST(req) {\n    try {\n        const body = await req.json();\n        const { message } = body;\n        const apiKey = process.env.GEMINI_API_KEY;\n        if (!apiKey || apiKey.includes(\"YOUR_GEMINI\")) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Configuration Error: API Key is missing or invalid.\"\n            }, {\n                status: 500\n            });\n        }\n        const prompt = `\r\n      You are an expert assistant for the National Stock Exchange (NSE) of India.\r\n      Answer the user's question based strictly on the context below.\r\n      \r\n      CONTEXT:\r\n      ${knowledgeContext}\r\n      \r\n      USER QUESTION:\r\n      ${message}\r\n      \r\n      GUIDELINES:\r\n      - Be polite, professional, and concise.\r\n      - If the answer is not in the context, state that clearly.\r\n      - Use markdown for formatting (bold, lists).\r\n    `;\n        // Switch to Raw Fetch to bypass SDK 404 issues\n        console.log(\"Sending RAW FETCH request to Gemini 1.5 Flash...\");\n        const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                contents: [\n                    {\n                        parts: [\n                            {\n                                text: prompt\n                            }\n                        ]\n                    }\n                ]\n            })\n        });\n        if (!response.ok) {\n            const errorText = await response.text();\n            console.error(\"Gemini API Error (Raw):\", response.status, errorText);\n            // Fallback strategies for known error codes\n            if (response.status === 404) {\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: \"Model Not Found (404). The API Key or Model region might be restricted.\"\n                }, {\n                    status: 500\n                });\n            }\n            if (response.status === 429) {\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: \"Rate Limited (429). The system is busy.\"\n                }, {\n                    status: 500\n                });\n            }\n            throw new Error(`API returned ${response.status}: ${errorText}`);\n        }\n        const data = await response.json();\n        const text = data.candidates?.[0]?.content?.parts?.[0]?.text;\n        if (!text) {\n            console.error(\"Unexpected API Response format:\", JSON.stringify(data));\n            throw new Error(\"No text in response\");\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            response: text\n        });\n    } catch (error) {\n        console.error(\"API Handler Failed:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: error.message || \"Failed to communicate with AI service.\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFVLEVBQUUsQ0FBQyxFQUFFLEVBQUV2QixTQUFTaUIsT0FBTyxDQUFDLEVBQUUsRUFBRUM7UUFFeEQsSUFBSSxDQUFDQSxNQUFNO1lBQ1BwQyxRQUFRb0IsS0FBSyxDQUFDLG1DQUFtQ1AsS0FBS29CLFNBQVMsQ0FBQ087WUFDaEUsTUFBTSxJQUFJRCxNQUFNO1FBQ3BCO1FBRUEsT0FBTzFDLGtGQUFZQSxDQUFDZSxJQUFJLENBQUM7WUFBRWlCLFVBQVVPO1FBQUs7SUFFOUMsRUFBRSxPQUFPaEIsT0FBWTtRQUNqQnBCLFFBQVFvQixLQUFLLENBQUMsdUJBQXVCQTtRQUNyQyxPQUFPdkIsa0ZBQVlBLENBQUNlLElBQUksQ0FBQztZQUNyQlEsT0FBT0EsTUFBTUksT0FBTyxJQUFJO1FBQzVCLEdBQUc7WUFBRUcsUUFBUTtRQUFJO0lBQ3JCO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uc2UtY2hhdGJvdC8uL3NyYy9hcHAvYXBpL2NoYXQvcm91dGUudHM/NDZiNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcbmltcG9ydCBmcyBmcm9tICdmcyc7XHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xyXG5cclxuLy8gREVCVUdHSU5HOiBMb2cgZW52aXJvbm1lbnQgc3RhdHVzXHJcbmNvbnNvbGUubG9nKCctLS0gQVBJIElOSVQgKFJBVyBGRVRDSCkgLS0tJyk7XHJcbmNvbnNvbGUubG9nKCdBUEkgS2V5IGNvbmZpZ3VyZWQ6JywgISFwcm9jZXNzLmVudi5HRU1JTklfQVBJX0tFWSk7XHJcblxyXG4vLyBMb2FkIEtub3dsZWRnZSBCYXNlXHJcbmxldCBrbm93bGVkZ2VDb250ZXh0ID0gJyc7XHJcbnRyeSB7XHJcbiAgICBjb25zdCBmaWxlUGF0aCA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnc3JjL2RhdGEva25vd2xlZGdlLmpzb24nKTtcclxuICAgIGlmIChmcy5leGlzdHNTeW5jKGZpbGVQYXRoKSkge1xyXG4gICAgICAgIGNvbnN0IHJhd0RhdGEgPSBmcy5yZWFkRmlsZVN5bmMoZmlsZVBhdGgsICd1dGY4Jyk7XHJcbiAgICAgICAgY29uc3QganNvbiA9IEpTT04ucGFyc2UocmF3RGF0YSk7XHJcbiAgICAgICAga25vd2xlZGdlQ29udGV4dCA9IGpzb24ubWFwKChpdGVtOiBhbnkpID0+IGBTb3VyY2U6ICR7aXRlbS51cmx9XFxuJHtpdGVtLmNvbnRlbnR9XFxuLS0tXFxuYCkuam9pbignXFxuJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coYEtub3dsZWRnZSBCYXNlIExvYWRlZDogJHtqc29uLmxlbmd0aH0gZG9jdW1lbnRzLmApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdDUklUSUNBTDoga25vd2xlZGdlLmpzb24gTk9UIEZPVU5EIGF0JywgZmlsZVBhdGgpO1xyXG4gICAgICAgIGtub3dsZWRnZUNvbnRleHQgPSBcIldhcm5pbmc6IEtub3dsZWRnZSBiYXNlIGlzIGVtcHR5LiBTeXN0ZW0gY291bGQgbm90IGxvYWQgZGF0YS5cIjtcclxuICAgIH1cclxufSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0NSSVRJQ0FMOiBFcnJvciBsb2FkaW5nIGtub3dsZWRnZSBiYXNlOicsIGVycm9yKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBSZXF1ZXN0KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXEuanNvbigpO1xyXG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZSB9ID0gYm9keTtcclxuICAgICAgICBjb25zdCBhcGlLZXkgPSBwcm9jZXNzLmVudi5HRU1JTklfQVBJX0tFWTtcclxuXHJcbiAgICAgICAgaWYgKCFhcGlLZXkgfHwgYXBpS2V5LmluY2x1ZGVzKCdZT1VSX0dFTUlOSScpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIkNvbmZpZ3VyYXRpb24gRXJyb3I6IEFQSSBLZXkgaXMgbWlzc2luZyBvciBpbnZhbGlkLlwiIH0sIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBwcm9tcHQgPSBgXHJcbiAgICAgIFlvdSBhcmUgYW4gZXhwZXJ0IGFzc2lzdGFudCBmb3IgdGhlIE5hdGlvbmFsIFN0b2NrIEV4Y2hhbmdlIChOU0UpIG9mIEluZGlhLlxyXG4gICAgICBBbnN3ZXIgdGhlIHVzZXIncyBxdWVzdGlvbiBiYXNlZCBzdHJpY3RseSBvbiB0aGUgY29udGV4dCBiZWxvdy5cclxuICAgICAgXHJcbiAgICAgIENPTlRFWFQ6XHJcbiAgICAgICR7a25vd2xlZGdlQ29udGV4dH1cclxuICAgICAgXHJcbiAgICAgIFVTRVIgUVVFU1RJT046XHJcbiAgICAgICR7bWVzc2FnZX1cclxuICAgICAgXHJcbiAgICAgIEdVSURFTElORVM6XHJcbiAgICAgIC0gQmUgcG9saXRlLCBwcm9mZXNzaW9uYWwsIGFuZCBjb25jaXNlLlxyXG4gICAgICAtIElmIHRoZSBhbnN3ZXIgaXMgbm90IGluIHRoZSBjb250ZXh0LCBzdGF0ZSB0aGF0IGNsZWFybHkuXHJcbiAgICAgIC0gVXNlIG1hcmtkb3duIGZvciBmb3JtYXR0aW5nIChib2xkLCBsaXN0cykuXHJcbiAgICBgO1xyXG5cclxuICAgICAgICAvLyBTd2l0Y2ggdG8gUmF3IEZldGNoIHRvIGJ5cGFzcyBTREsgNDA0IGlzc3Vlc1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdTZW5kaW5nIFJBVyBGRVRDSCByZXF1ZXN0IHRvIEdlbWluaSAxLjUgRmxhc2guLi4nKTtcclxuXHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9nZW5lcmF0aXZlbGFuZ3VhZ2UuZ29vZ2xlYXBpcy5jb20vdjFiZXRhL21vZGVscy9nZW1pbmktMi4wLWZsYXNoOmdlbmVyYXRlQ29udGVudD9rZXk9JHthcGlLZXl9YCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgY29udGVudHM6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFydHM6IFt7IHRleHQ6IHByb21wdCB9XVxyXG4gICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0dlbWluaSBBUEkgRXJyb3IgKFJhdyk6JywgcmVzcG9uc2Uuc3RhdHVzLCBlcnJvclRleHQpO1xyXG5cclxuICAgICAgICAgICAgLy8gRmFsbGJhY2sgc3RyYXRlZ2llcyBmb3Iga25vd24gZXJyb3IgY29kZXNcclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJNb2RlbCBOb3QgRm91bmQgKDQwNCkuIFRoZSBBUEkgS2V5IG9yIE1vZGVsIHJlZ2lvbiBtaWdodCBiZSByZXN0cmljdGVkLlwiIH0sIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDI5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJSYXRlIExpbWl0ZWQgKDQyOSkuIFRoZSBzeXN0ZW0gaXMgYnVzeS5cIiB9LCB7IHN0YXR1czogNTAwIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFQSSByZXR1cm5lZCAke3Jlc3BvbnNlLnN0YXR1c306ICR7ZXJyb3JUZXh0fWApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICBjb25zdCB0ZXh0ID0gZGF0YS5jYW5kaWRhdGVzPy5bMF0/LmNvbnRlbnQ/LnBhcnRzPy5bMF0/LnRleHQ7XHJcblxyXG4gICAgICAgIGlmICghdGV4dCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdVbmV4cGVjdGVkIEFQSSBSZXNwb25zZSBmb3JtYXQ6JywgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHRleHQgaW4gcmVzcG9uc2UnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHJlc3BvbnNlOiB0ZXh0IH0pO1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdBUEkgSGFuZGxlciBGYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8IFwiRmFpbGVkIHRvIGNvbW11bmljYXRlIHdpdGggQUkgc2VydmljZS5cIlxyXG4gICAgICAgIH0sIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImZzIiwicGF0aCIsImNvbnNvbGUiLCJsb2ciLCJwcm9jZXNzIiwiZW52IiwiR0VNSU5JX0FQSV9LRVkiLCJrbm93bGVkZ2VDb250ZXh0IiwiZmlsZVBhdGgiLCJqb2luIiwiY3dkIiwiZXhpc3RzU3luYyIsInJhd0RhdGEiLCJyZWFkRmlsZVN5bmMiLCJqc29uIiwiSlNPTiIsInBhcnNlIiwibWFwIiwiaXRlbSIsInVybCIsImNvbnRlbnQiLCJsZW5ndGgiLCJlcnJvciIsIlBPU1QiLCJyZXEiLCJib2R5IiwibWVzc2FnZSIsImFwaUtleSIsImluY2x1ZGVzIiwic3RhdHVzIiwicHJvbXB0IiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJzdHJpbmdpZnkiLCJjb250ZW50cyIsInBhcnRzIiwidGV4dCIsIm9rIiwiZXJyb3JUZXh0IiwiRXJyb3IiLCJkYXRhIiwiY2FuZGlkYXRlcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/chat/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=D%3A%5CProjects%5CNSE-Chatbot%5CChatbot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CProjects%5CNSE-Chatbot%5CChatbot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();
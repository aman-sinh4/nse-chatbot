"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/chat/route";
exports.ids = ["app/api/chat/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=D%3A%5CProjects%5CNSE-Chatbot%5CChatbot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CProjects%5CNSE-Chatbot%5CChatbot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=D%3A%5CProjects%5CNSE-Chatbot%5CChatbot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CProjects%5CNSE-Chatbot%5CChatbot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_Projects_NSE_Chatbot_Chatbot_src_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/chat/route.ts */ \"(rsc)/./src/app/api/chat/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/chat/route\",\n        pathname: \"/api/chat\",\n        filename: \"route\",\n        bundlePath: \"app/api/chat/route\"\n    },\n    resolvedPagePath: \"D:\\\\Projects\\\\NSE-Chatbot\\\\Chatbot\\\\src\\\\app\\\\api\\\\chat\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_Projects_NSE_Chatbot_Chatbot_src_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/chat/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjaGF0JTJGcm91dGUmcGFnZT0lMkZhcGklMkZjaGF0JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGY2hhdCUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDUHJvamVjdHMlNUNOU0UtQ2hhdGJvdCU1Q0NoYXRib3QlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUQlM0ElNUNQcm9qZWN0cyU1Q05TRS1DaGF0Ym90JTVDQ2hhdGJvdCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNpQjtBQUM5RjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzZKOztBQUU3SiIsInNvdXJjZXMiOlsid2VicGFjazovL25zZS1jaGF0Ym90Lz83ZTgwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkQ6XFxcXFByb2plY3RzXFxcXE5TRS1DaGF0Ym90XFxcXENoYXRib3RcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcY2hhdFxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvY2hhdC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2NoYXRcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2NoYXQvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJEOlxcXFxQcm9qZWN0c1xcXFxOU0UtQ2hhdGJvdFxcXFxDaGF0Ym90XFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGNoYXRcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvY2hhdC9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=D%3A%5CProjects%5CNSE-Chatbot%5CChatbot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CProjects%5CNSE-Chatbot%5CChatbot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/chat/route.ts":
/*!***********************************!*\
  !*** ./src/app/api/chat/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n// DEBUGGING: Log environment status\nconsole.log(\"--- API INIT (RAW FETCH) ---\");\nconsole.log(\"API Key configured:\", !!process.env.GEMINI_API_KEY);\n// Load Knowledge Base\nlet knowledgeContext = \"\";\ntry {\n    const filePath = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), \"src/data/knowledge.json\");\n    if (fs__WEBPACK_IMPORTED_MODULE_1___default().existsSync(filePath)) {\n        const rawData = fs__WEBPACK_IMPORTED_MODULE_1___default().readFileSync(filePath, \"utf8\");\n        const json = JSON.parse(rawData);\n        knowledgeContext = json.map((item)=>`Source: ${item.url}\\n${item.content}\\n---\\n`).join(\"\\n\");\n        console.log(`Knowledge Base Loaded: ${json.length} documents. Total size: ${knowledgeContext.length} chars.`);\n    } else {\n        console.error(\"CRITICAL: knowledge.json NOT FOUND at\", filePath);\n        knowledgeContext = \"Warning: Knowledge base is empty. System could not load data.\";\n    }\n} catch (error) {\n    console.error(\"CRITICAL: Error loading knowledge base:\", error);\n}\nasync function POST(req) {\n    try {\n        const body = await req.json();\n        const { message } = body;\n        const apiKey = process.env.GEMINI_API_KEY;\n        if (!apiKey || apiKey.includes(\"YOUR_GEMINI\")) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Configuration Error: API Key is missing or invalid.\"\n            }, {\n                status: 500\n            });\n        }\n        const prompt = `\r\n      You are an expert assistant for the National Stock Exchange (NSE) of India.\r\n      Answer the user's question based strictly on the context below.\r\n      \r\n      CONTEXT:\r\n      ${knowledgeContext}\r\n      \r\n      USER QUESTION:\r\n      ${message}\r\n      \r\n      GUIDELINES:\r\n      - Be polite, professional, and concise.\r\n      - If the answer is not in the context, state that clearly.\r\n      - Use markdown for formatting (bold, lists).\r\n    `;\n        // Switch to Raw Fetch to bypass SDK 404 issues\n        console.log(\"Sending RAW FETCH request to Gemini Flash Latest...\");\n        const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-flash-latest:generateContent?key=${apiKey}`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                contents: [\n                    {\n                        parts: [\n                            {\n                                text: prompt\n                            }\n                        ]\n                    }\n                ]\n            })\n        });\n        if (!response.ok) {\n            const errorText = await response.text();\n            console.error(\"Gemini API Error (Raw):\", response.status, errorText);\n            // Fallback strategies for known error codes\n            if (response.status === 404) {\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: \"Model Not Found (404). The API Key or Model region might be restricted.\"\n                }, {\n                    status: 500\n                });\n            }\n            if (response.status === 429) {\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: \"Rate Limited (429). The system is busy.\"\n                }, {\n                    status: 500\n                });\n            }\n            throw new Error(`API returned ${response.status}: ${errorText}`);\n        }\n        const data = await response.json();\n        const text = data.candidates?.[0]?.content?.parts?.[0]?.text;\n        if (!text) {\n            console.error(\"Unexpected API Response format:\", JSON.stringify(data));\n            throw new Error(\"No text in response\");\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            response: text\n        });\n    } catch (error) {\n        console.error(\"API Handler Failed:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: error.message || \"Failed to communicate with AI service.\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBSTtRQUNoQyxNQUFNd0IsT0FBT0ksS0FBS0MsVUFBVSxFQUFFLENBQUMsRUFBRSxFQUFFdkIsU0FBU2lCLE9BQU8sQ0FBQyxFQUFFLEVBQUVDO1FBRXhELElBQUksQ0FBQ0EsTUFBTTtZQUNQcEMsUUFBUW9CLEtBQUssQ0FBQyxtQ0FBbUNQLEtBQUtvQixTQUFTLENBQUNPO1lBQ2hFLE1BQU0sSUFBSUQsTUFBTTtRQUNwQjtRQUVBLE9BQU8xQyxrRkFBWUEsQ0FBQ2UsSUFBSSxDQUFDO1lBQUVpQixVQUFVTztRQUFLO0lBRTlDLEVBQUUsT0FBT2hCLE9BQVk7UUFDakJwQixRQUFRb0IsS0FBSyxDQUFDLHVCQUF1QkE7UUFDckMsT0FBT3ZCLGtGQUFZQSxDQUFDZSxJQUFJLENBQUM7WUFDckJRLE9BQU9BLE1BQU1JLE9BQU8sSUFBSTtRQUM1QixHQUFHO1lBQUVHLFFBQVE7UUFBSTtJQUNyQjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbnNlLWNoYXRib3QvLi9zcmMvYXBwL2FwaS9jaGF0L3JvdXRlLnRzPzQ2YjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xyXG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcclxuXHJcbi8vIERFQlVHR0lORzogTG9nIGVudmlyb25tZW50IHN0YXR1c1xyXG5jb25zb2xlLmxvZygnLS0tIEFQSSBJTklUIChSQVcgRkVUQ0gpIC0tLScpO1xyXG5jb25zb2xlLmxvZygnQVBJIEtleSBjb25maWd1cmVkOicsICEhcHJvY2Vzcy5lbnYuR0VNSU5JX0FQSV9LRVkpO1xyXG5cclxuLy8gTG9hZCBLbm93bGVkZ2UgQmFzZVxyXG5sZXQga25vd2xlZGdlQ29udGV4dCA9ICcnO1xyXG50cnkge1xyXG4gICAgY29uc3QgZmlsZVBhdGggPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ3NyYy9kYXRhL2tub3dsZWRnZS5qc29uJyk7XHJcbiAgICBpZiAoZnMuZXhpc3RzU3luYyhmaWxlUGF0aCkpIHtcclxuICAgICAgICBjb25zdCByYXdEYXRhID0gZnMucmVhZEZpbGVTeW5jKGZpbGVQYXRoLCAndXRmOCcpO1xyXG4gICAgICAgIGNvbnN0IGpzb24gPSBKU09OLnBhcnNlKHJhd0RhdGEpO1xyXG4gICAgICAgIGtub3dsZWRnZUNvbnRleHQgPSBqc29uLm1hcCgoaXRlbTogYW55KSA9PiBgU291cmNlOiAke2l0ZW0udXJsfVxcbiR7aXRlbS5jb250ZW50fVxcbi0tLVxcbmApLmpvaW4oJ1xcbicpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBLbm93bGVkZ2UgQmFzZSBMb2FkZWQ6ICR7anNvbi5sZW5ndGh9IGRvY3VtZW50cy4gVG90YWwgc2l6ZTogJHtrbm93bGVkZ2VDb250ZXh0Lmxlbmd0aH0gY2hhcnMuYCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NSSVRJQ0FMOiBrbm93bGVkZ2UuanNvbiBOT1QgRk9VTkQgYXQnLCBmaWxlUGF0aCk7XHJcbiAgICAgICAga25vd2xlZGdlQ29udGV4dCA9IFwiV2FybmluZzogS25vd2xlZGdlIGJhc2UgaXMgZW1wdHkuIFN5c3RlbSBjb3VsZCBub3QgbG9hZCBkYXRhLlwiO1xyXG4gICAgfVxyXG59IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignQ1JJVElDQUw6IEVycm9yIGxvYWRpbmcga25vd2xlZGdlIGJhc2U6JywgZXJyb3IpO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXE6IFJlcXVlc3QpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcS5qc29uKCk7XHJcbiAgICAgICAgY29uc3QgeyBtZXNzYWdlIH0gPSBib2R5O1xyXG4gICAgICAgIGNvbnN0IGFwaUtleSA9IHByb2Nlc3MuZW52LkdFTUlOSV9BUElfS0VZO1xyXG5cclxuICAgICAgICBpZiAoIWFwaUtleSB8fCBhcGlLZXkuaW5jbHVkZXMoJ1lPVVJfR0VNSU5JJykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiQ29uZmlndXJhdGlvbiBFcnJvcjogQVBJIEtleSBpcyBtaXNzaW5nIG9yIGludmFsaWQuXCIgfSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHByb21wdCA9IGBcclxuICAgICAgWW91IGFyZSBhbiBleHBlcnQgYXNzaXN0YW50IGZvciB0aGUgTmF0aW9uYWwgU3RvY2sgRXhjaGFuZ2UgKE5TRSkgb2YgSW5kaWEuXHJcbiAgICAgIEFuc3dlciB0aGUgdXNlcidzIHF1ZXN0aW9uIGJhc2VkIHN0cmljdGx5IG9uIHRoZSBjb250ZXh0IGJlbG93LlxyXG4gICAgICBcclxuICAgICAgQ09OVEVYVDpcclxuICAgICAgJHtrbm93bGVkZ2VDb250ZXh0fVxyXG4gICAgICBcclxuICAgICAgVVNFUiBRVUVTVElPTjpcclxuICAgICAgJHttZXNzYWdlfVxyXG4gICAgICBcclxuICAgICAgR1VJREVMSU5FUzpcclxuICAgICAgLSBCZSBwb2xpdGUsIHByb2Zlc3Npb25hbCwgYW5kIGNvbmNpc2UuXHJcbiAgICAgIC0gSWYgdGhlIGFuc3dlciBpcyBub3QgaW4gdGhlIGNvbnRleHQsIHN0YXRlIHRoYXQgY2xlYXJseS5cclxuICAgICAgLSBVc2UgbWFya2Rvd24gZm9yIGZvcm1hdHRpbmcgKGJvbGQsIGxpc3RzKS5cclxuICAgIGA7XHJcblxyXG4gICAgICAgIC8vIFN3aXRjaCB0byBSYXcgRmV0Y2ggdG8gYnlwYXNzIFNESyA0MDQgaXNzdWVzXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1NlbmRpbmcgUkFXIEZFVENIIHJlcXVlc3QgdG8gR2VtaW5pIEZsYXNoIExhdGVzdC4uLicpO1xyXG5cclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwczovL2dlbmVyYXRpdmVsYW5ndWFnZS5nb29nbGVhcGlzLmNvbS92MWJldGEvbW9kZWxzL2dlbWluaS1mbGFzaC1sYXRlc3Q6Z2VuZXJhdGVDb250ZW50P2tleT0ke2FwaUtleX1gLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50czogW3tcclxuICAgICAgICAgICAgICAgICAgICBwYXJ0czogW3sgdGV4dDogcHJvbXB0IH1dXHJcbiAgICAgICAgICAgICAgICB9XVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignR2VtaW5pIEFQSSBFcnJvciAoUmF3KTonLCByZXNwb25zZS5zdGF0dXMsIGVycm9yVGV4dCk7XHJcblxyXG4gICAgICAgICAgICAvLyBGYWxsYmFjayBzdHJhdGVnaWVzIGZvciBrbm93biBlcnJvciBjb2Rlc1xyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIk1vZGVsIE5vdCBGb3VuZCAoNDA0KS4gVGhlIEFQSSBLZXkgb3IgTW9kZWwgcmVnaW9uIG1pZ2h0IGJlIHJlc3RyaWN0ZWQuXCIgfSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MjkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIlJhdGUgTGltaXRlZCAoNDI5KS4gVGhlIHN5c3RlbSBpcyBidXN5LlwiIH0sIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQVBJIHJldHVybmVkICR7cmVzcG9uc2Uuc3RhdHVzfTogJHtlcnJvclRleHR9YCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIGNvbnN0IHRleHQgPSBkYXRhLmNhbmRpZGF0ZXM/LlswXT8uY29udGVudD8ucGFydHM/LlswXT8udGV4dDtcclxuXHJcbiAgICAgICAgaWYgKCF0ZXh0KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuZXhwZWN0ZWQgQVBJIFJlc3BvbnNlIGZvcm1hdDonLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdGV4dCBpbiByZXNwb25zZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgcmVzcG9uc2U6IHRleHQgfSk7XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSBIYW5kbGVyIEZhaWxlZDonLCBlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgXCJGYWlsZWQgdG8gY29tbXVuaWNhdGUgd2l0aCBBSSBzZXJ2aWNlLlwiXHJcbiAgICAgICAgfSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICAgIH1cclxufVxyXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZnMiLCJwYXRoIiwiY29uc29sZSIsImxvZyIsInByb2Nlc3MiLCJlbnYiLCJHRU1JTklfQVBJX0tFWSIsImtub3dsZWRnZUNvbnRleHQiLCJmaWxlUGF0aCIsImpvaW4iLCJjd2QiLCJleGlzdHNTeW5jIiwicmF3RGF0YSIsInJlYWRGaWxlU3luYyIsImpzb24iLCJKU09OIiwicGFyc2UiLCJtYXAiLCJpdGVtIiwidXJsIiwiY29udGVudCIsImxlbmd0aCIsImVycm9yIiwiUE9TVCIsInJlcSIsImJvZHkiLCJtZXNzYWdlIiwiYXBpS2V5IiwiaW5jbHVkZXMiLCJzdGF0dXMiLCJwcm9tcHQiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsInN0cmluZ2lmeSIsImNvbnRlbnRzIiwicGFydHMiLCJ0ZXh0Iiwib2siLCJlcnJvclRleHQiLCJFcnJvciIsImRhdGEiLCJjYW5kaWRhdGVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/chat/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=D%3A%5CProjects%5CNSE-Chatbot%5CChatbot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CProjects%5CNSE-Chatbot%5CChatbot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();